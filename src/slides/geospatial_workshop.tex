\documentclass[aspectratio=169]{beamer}


%%% Style
\include{intact_datalab_beamer_template}


%%% Extensions utiles pour le français
\usepackage[french]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\usepackage{xcolor}

%%% Extensions utiles pour les math
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{bbold}
\usepackage{mathtools}

\DeclareMathOperator*{\argmin}{arg\,min}

%%% Extensions pour les figures
\usepackage{graphicx}
\usepackage{subfig}
\usepackage{tikz}

%%% for python scripts
\usepackage{listings}
\usepackage{verbatim}

%%% Bibliographie
\usepackage{bibentry}

%%% Informations sur la présentation
\author{Patrice B\'echard}
\institute[Intact]{
\small{Intact Data Lab} \\
\textit{patrice.bechard@intact.net}
}
\title{Data Science Road Network}
\date{November 16th, 2018}


%%% Préférences (Propre au thème du DMS)
\slidelogo
\titlelogo
%\titleimage{figures/deep_learning_v2.png}  % Image à afTficher sur la page titre
\footlinetext{  % À utiliser surtout pour les congrès
\insertshorttitle\quad\insertshortdate\quad\insertshortinstitute
}


\def\signed #1{{\leavevmode\unskip\nobreak\hfil\penalty50\hskip2em
  \hbox{}\nobreak\hfil(#1)%
  \parfillskip=0pt \finalhyphendemerits=0 \endgraf}}

\newsavebox\mybox
\newenvironment{aquote}[1]
  {\savebox\mybox{#1}\begin{quote}}
  {\signed{\usebox\mybox}\end{quote}}

\usepackage{ragged2e}


%%% Début
\begin{document}

% Title page

\begin{frame}[plain, t]
  \titlepage
\end{frame}

% Motivations

\begin{frame}{Motivation}
\centering
{\Large Why is it an interesting problem?}
\vspace{.5cm}

\begin{itemize}
    \item Lots of GPS data from users
    \item May want to do things such as
    \begin{itemize}
        \item Find patterns in the driving habits of users
        \item Detect dangerous road sections
        \item Optimize fastest route based on traffic
        \item ...
    \end{itemize}
\end{itemize}
    
\end{frame}


\begin{frame}{Plan}
  \tableofcontents
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Open Street Map
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Open Street Map}
\begin{frame}{Open Street Map (OSM) \cite{haklay2008openstreetmap}}

\begin{columns}
\begin{column}{0.5\textwidth}
	
	\begin{itemize}
		\item Open-source map maintained by users
		\item Contains various informations about:
		\begin{itemize}
			\item road segments
			\item intersections
			\item landmarks
			\item ...
		\end{itemize}
		\item Contains a routing engine similar to Google Maps 
		\item \url{https://www.openstreetmap.org/}
	\end{itemize}
\end{column}
\begin{column}{0.5\textwidth}  %%<--- here
    \begin{center}
     \includegraphics[width=0.7\textwidth]{figures/osm_logo.png}
     \end{center}
\end{column}
\end{columns}
\end{frame}

\begin{frame}{Open Street Map (OSM) \cite{haklay2008openstreetmap}}

{\Large Example : Querying features nearby}
\centering
\includegraphics[width=0.85\textwidth]{figures/osm_query}

\end{frame}

\begin{frame}{Open Street Map (OSM) \cite{haklay2008openstreetmap}}

{\Large Example : Find optimal route between two points}
\centering
\includegraphics[width=0.85\textwidth]{figures/osm_routing}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% OSMnx
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Building and visualizing road networks with OSMnx}

\begin{frame}{OSMnx \cite{boeing2017osmnx}}
\begin{columns}
\begin{column}{0.75\textwidth}
	
	\begin{itemize}
		\item Open-source Python library
		\item Represents the road network as a directed
		\item Allows us to
		\begin{itemize}
			\item Create the road network of a given location
			\item Visualize this network easily
			\item Simplify the road network by removing non-intersection nodes
			\item Compute statistics about the road network
			\item Find the shortest path between two nodes of the graph
			\item ...
		\end{itemize}
		\item \url{https://github.com/gboeing/osmnx}
	\end{itemize}
\end{column}
\begin{column}{0.25\textwidth}  %%<--- here
    \begin{center}
     \includegraphics[width=0.8\textwidth]{figures/osmnx_manhattan}
     \end{center}
\end{column}
\end{columns}
\end{frame}

\begin{frame}{OSMnx \cite{boeing2017osmnx}}

{\Large Example : Creating the road network for Verdun}
{\small \lstinputlisting[language=Python]{scripts/verdun_network.py}}
\centering
\includegraphics[height=4cm]{figures/verdun_network}

\end{frame}

\begin{frame}{OSMnx \cite{boeing2017osmnx}}

{\Large Example : Creating the shape of the Island of Montreal}
{\small \lstinputlisting[language=Python]{scripts/montreal_shape.py}}
\centering
\includegraphics[height=4cm]{figures/montreal_shape}

\end{frame}

\begin{frame}{OSMnx \cite{boeing2017osmnx}}

{\Large Example : Finding the }
{\small \lstinputlisting[language=Python]{scripts/graph_from_bbox.py}}

\begin{frame}{OSMnx \cite{boeing2017osmnx}}
\vspace{.3cm}
{\Large Example : Computing statistics from the network}
{\small \lstinputlisting[language=Python]{scripts/osmnx_stats.py}}
\centering
\verbatiminput{scripts/osmnx_stats_results.json}

\end{frame}

\begin{frame}{OSMnx \cite{boeing2017osmnx}}

{\Large For more examples and things to do with OSMnx, check out these links :}
\vspace{1cm}
\begin{itemize}
	\item \url{https://geoffboeing.com/2016/11/osmnx-python-street-networks/} (overview)
	\item \url{https://osmnx.readthedocs.io/en/stable/} (documentation)
	\item \url{https://github.com/gboeing/osmnx-examples/} (more examples)
\end{itemize}

\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Origin Clustering
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Finding hotspots in Beijing}

\begin{frame}{Finding hotspots Beijing}
    We can use trip origins and destinations to cluster where drivers tend to go while driving.
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Destination Prediction
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Predicting a driver's destination}

\begin{frame}{Predicting a driver's destination}
    We can predict the destination of a driver based on its origin time and place.
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Geospatial Data Science at Intact
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% References
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section*{References}

\begin{frame}[t,allowframebreaks]
\setbeamertemplate{bibliography item}{[\theenumiv]}


  \frametitle{References}
  \nocite*
  \bibliographystyle{siam}
  \bibliography{references}
 \end{frame}

\end{document}